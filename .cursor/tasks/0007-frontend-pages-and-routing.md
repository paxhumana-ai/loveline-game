## Task 0007: 프론트엔드 페이지 및 라우팅(Frontend Pages & Routing) 구현

### 목표

러브라인 게임의 전체 사용자 인터페이스를 통합하고, 상태 기반의 부드러운 전환과 일관된 사용자 경험을 제공하는 완성된 단일 페이지 애플리케이션을 구축합니다.

### 작업 상세

- [ ] **메인 페이지 구조 (`app/`)**

  - **홈페이지 (`app/page.tsx`)**

    - 러브라인 게임 소개 및 브랜딩
    - "방 만들기" / "방 참가하기" 메인 액션 버튼
    - 게임 규칙 및 사용법 간단 설명
    - 반응형 레이아웃 적용

  - **전역 레이아웃 (`app/layout.tsx`)**
    - 공통 헤더 및 네비게이션
    - Shadcn/ui 테마 설정
    - 실시간 통신 Provider 설정
    - 전역 상태 관리 Provider
    - 메타데이터 및 SEO 설정

- [ ] **게임방 관련 페이지 (`app/room/`)**

  - **방 생성 (`app/create-room/page.tsx`)**

    - 게임 설정 폼 (남성/여성 정원, 라운드 수)
    - 호스트 프로필 설정 (닉네임, 성별, MBTI, 캐릭터)
    - 방 생성 완료 시 대기실로 자동 이동

  - **방 참가 (`app/join-room/page.tsx`)**

    - 방 코드 입력 폼
    - 참가자 프로필 설정 (닉네임, 성별, MBTI, 캐릭터)
    - 입장 가능 여부 검증 및 피드백

  - **통합 게임방 (`app/room/[code]/page.tsx`)**
    - 게임 상태에 따른 조건부 렌더링으로 하나의 페이지에서 모든 게임 진행 관리
    - **대기실 상태 (waiting)**: 실시간 참가자 목록, 방 정보, 호스트 게임 시작 버튼
    - **자유시간 상태 (free_time)**: 3분 카운트다운, 대화 안내 메시지, 참가자 상태
    - **지목시간 상태 (selection_time)**: 질문 표시, 참가자 선택 UI, 메시지 입력
    - **라운드 결과 상태 (round_results)**: 매칭 결과 발표, 다음 라운드 준비
    - **최종 결과 상태 (game_finished)**: 전체 게임 통계, 매칭 이력 요약

- [ ] **게임 상태별 컴포넌트 (`components/game-states/`)**

  - **대기실 컴포넌트 (`components/game-states/waiting-room.tsx`)**

    - 실시간 참가자 목록 표시
    - 방 정보 및 설정 표시
    - 호스트 전용 게임 시작 버튼
    - 참가자 프로필 수정 기능

  - **자유시간 컴포넌트 (`components/game-states/free-time.tsx`)**

    - 3분 카운트다운 타이머
    - "자유롭게 대화해주세요!" 안내 메시지
    - 참가자 현재 상태 표시
    - 준비 알림 (30초 전)

  - **지목시간 컴포넌트 (`components/game-states/selection-time.tsx`)**

    - 현재 라운드 질문 표시
    - 참가자 선택 그리드 (성별별 분리)
    - 지목 메시지 입력 영역
    - "패스" 옵션 및 확인 다이얼로그
    - 실시간 지목 완료 상태 표시

  - **라운드 결과 컴포넌트 (`components/game-states/round-results.tsx`)**

    - 매칭 결과 발표 (애니메이션 효과)
    - 매칭되지 않은 참가자 격려 메시지
    - 다음 라운드 준비 안내

  - **최종 결과 컴포넌트 (`components/game-states/final-results.tsx`)**
    - 전체 게임 통계 및 요약
    - 인기왕/인기퀸 발표
    - 매칭 이력 표시
    - 새 게임 시작 또는 홈으로 이동

- [ ] **공통 레이아웃 및 컴포넌트 (`components/layout/`)**

  - **헤더 컴포넌트 (`components/layout/header.tsx`)**

    - 로고 및 브랜딩
    - 현재 페이지 표시
    - 설정 메뉴 (다크/라이트 모드 등)

  - **네비게이션 (`components/layout/navigation.tsx`)**

    - 게임 진행 중 단계별 네비게이션
    - 브레드크럼 표시
    - 뒤로가기/나가기 버튼

  - **푸터 (`components/layout/footer.tsx`)**
    - 저작권 정보
    - 문의 링크
    - 버전 정보

- [ ] **라우팅 및 네비게이션**

  - **보호된 라우트**

    - 게임방 페이지는 참가자만 접근 가능
    - 방 코드 검증 미들웨어
    - 비인가 접근 시 적절한 페이지로 리다이렉트

  - **동적 라우팅**

    - `/room/[code]`: 방 코드 기반 단일 게임방 라우팅
    - URL 파라미터 검증 및 에러 처리
    - 상태 기반 컴포넌트 렌더링 (URL 변경 없음)

  - **상태 기반 네비게이션**
    - 게임 상태 변경 시 URL 변경 없이 컴포넌트 전환
    - 브라우저 뒤로가기/새로고침 시 현재 게임 상태 유지
    - 게임 진행 중 페이지 이탈 방지 확인 다이얼로그

- [ ] **반응형 디자인**

  - **모바일 최적화**

    - 모든 페이지 모바일 퍼스트 디자인
    - 터치 친화적 UI 요소
    - 스와이프 제스처 지원

  - **태블릿 및 데스크톱**

    - 화면 크기별 최적화된 레이아웃
    - 그리드 시스템 활용
    - 적절한 여백 및 타이포그래피

  - **접근성 (a11y)**
    - 키보드 네비게이션 지원
    - 스크린 리더 호환성
    - 적절한 색상 대비 및 폰트 크기

- [ ] **상태 관리 및 데이터 플로우**

  - **전역 상태 관리**

    - React Context로 게임 상태 관리 (대기/자유시간/지목시간/결과/완료)
    - 참가자 정보 및 방 상태 캐싱
    - 실시간 폴링을 통한 상태 동기화
    - 게임 상태 변화에 따른 자동 컴포넌트 전환

  - **로컬 상태 관리**

    - 폼 상태 관리 (react-hook-form)
    - UI 상태 관리 (모달, 토글 등)
    - 임시 데이터 저장 (지목 선택, 메시지 입력)

  - **에러 경계 (Error Boundary)**
    - 게임방 컴포넌트 레벨 에러 처리
    - 상태 전환 실패 시 사용자 친화적 에러 메시지
    - 네트워크 오류 시 재시도 옵션 제공

- [ ] **성능 최적화**

  - **코드 스플리팅**

    - 페이지별 동적 임포트
    - 컴포넌트 레이지 로딩
    - 번들 크기 최적화

  - **이미지 최적화**

    - Next.js Image 컴포넌트 활용
    - 캐릭터 이미지 최적화
    - 적절한 이미지 포맷 사용

  - **캐싱 전략**
    - 정적 에셋 캐싱
    - API 응답 캐싱
    - 브라우저 캐시 활용

- [ ] **SEO 및 메타데이터**

  - **동적 메타데이터**

    - 페이지별 적절한 title 및 description
    - Open Graph 태그 설정
    - Twitter Card 메타데이터

  - **구조화된 데이터**
    - JSON-LD 마크업
    - 검색 엔진 최적화
    - 소셜 미디어 공유 최적화

### 완료 조건

- 모든 페이지와 컴포넌트가 일관된 디자인과 사용자 경험을 제공함
- 반응형 디자인이 모든 디바이스에서 올바르게 작동함
- 게임 상태 기반 컴포넌트 전환이 자연스럽고 안정적임
- 실시간 폴링을 통한 상태 동기화가 정상 작동함
- 페이지 새로고침 시에도 현재 게임 상태가 올바르게 복원됨
- 에러 상황에서 적절한 피드백과 복구 옵션이 제공됨
- 접근성 기준을 충족함
- 성능이 최적화되어 빠른 상태 전환과 로딩 속도를 보장함
- SEO가 적절히 설정되어 검색 엔진에서 발견 가능함
